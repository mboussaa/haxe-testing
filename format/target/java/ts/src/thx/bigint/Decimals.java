// Generated by Haxe 3.3.0
package thx.bigint;

import haxe.root.*;

@SuppressWarnings(value={"rawtypes", "unchecked"})
public class Decimals extends haxe.lang.HxObject
{
	static
	{
		//line 6 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		thx.bigint.Decimals.divisionExtraScale = 4;
	}
	
	public Decimals(haxe.lang.EmptyObject empty)
	{
	}
	
	
	public Decimals()
	{
		//line 5 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		thx.bigint.Decimals.__hx_ctor_thx_bigint_Decimals(this);
	}
	
	
	public static void __hx_ctor_thx_bigint_Decimals(thx.bigint.Decimals __temp_me76)
	{
	}
	
	
	public static int divisionExtraScale;
	
	public static thx.bigint.DecimalImpl fromInt(int value)
	{
		//line 9 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		return new thx.bigint.DecimalImpl(thx.bigint.Bigs.fromInt(value), 0);
	}
	
	
	public static thx.bigint.DecimalImpl fromFloat(double value)
	{
		//line 13 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		if ( ! (haxe.lang.Runtime.isFinite(value)) ) 
		{
			//line 14 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			throw haxe.lang.HaxeException.wrap(( "Value is not a finite Float: " + haxe.lang.Runtime.toString(value) ));
		}
		
		//line 15 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		return thx.bigint.Decimals.parse(( "" + haxe.lang.Runtime.toString(value) ));
	}
	
	
	public static thx.bigint.DecimalImpl parse(java.lang.String value)
	{
		//line 19 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		value = value.toLowerCase();
		//line 20 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		int pose = haxe.lang.StringExt.indexOf(value, "e", null);
		//line 21 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		if (( pose > 0 )) 
		{
			//line 22 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			boolean isNeg = false;
			//line 22 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			java.lang.String f = haxe.lang.StringExt.substring(value, 0, pose);
			//line 22 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			java.lang.String e = haxe.lang.StringExt.substring(value, ( pose + 1 ), null);
			//line 25 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			if (haxe.lang.Runtime.valEq(haxe.lang.StringExt.substring(e, 0, 1), "-")) 
			{
				//line 26 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
				isNeg = true;
				//line 27 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
				e = haxe.lang.StringExt.substring(e, 1, null);
			}
			
			//line 29 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			thx.bigint.BigIntImpl p = thx.bigint.Bigs.parseBase(e, 10);
			//line 29 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			thx.bigint.BigIntImpl m = thx.bigint.Small.ten.pow(p);
			//line 31 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			if (isNeg) 
			{
				//line 32 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
				return thx.bigint.Decimals.parse(f).divideWithScale(thx._Decimal.Decimal_Impl_.fromBigInt(m), ((int) (haxe.lang.Runtime.toInt(haxe.root.Std.parseInt(e))) ));
			}
			else
			{
				//line 34 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
				return thx.bigint.Decimals.parse(f).multiply(thx._Decimal.Decimal_Impl_.fromBigInt(m));
			}
			
		}
		
		//line 37 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		int pdec = haxe.lang.StringExt.indexOf(value, ".", null);
		//line 38 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		if (( pdec < 0 )) 
		{
			//line 39 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
			return new thx.bigint.DecimalImpl(((thx.bigint.BigIntImpl) (thx.bigint.Bigs.parseBase(value, 10)) ), 0);
		}
		
		//line 41 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		java.lang.String i = ( haxe.lang.StringExt.substring(value, 0, pdec) + haxe.lang.StringExt.substring(value, ( pdec + 1 ), null) );
		//line 42 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		return new thx.bigint.DecimalImpl(thx.bigint.Bigs.parseBase(i, 10), ( ( value.length() - pdec ) - 1 ));
	}
	
	
	public static java.lang.Object __hx_createEmpty()
	{
		//line 5 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		return new thx.bigint.Decimals(haxe.lang.EmptyObject.EMPTY);
	}
	
	
	public static java.lang.Object __hx_create(haxe.root.Array arr)
	{
		//line 5 "/usr/lib/haxe/lib/thx,core/0,40,1/src/thx/bigint/Decimals.hx"
		return new thx.bigint.Decimals();
	}
	
	
}


